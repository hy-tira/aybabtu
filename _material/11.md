---
title: 11. Lisää tietorakenteita
slug: osa11
sections:
  - Pakan toiminta
  - Pino ja jono
  - Pakan toteutus
  - Keon toiminta
  - Keon toteutus
---

# 11. Lisää tietorakenteita

TODO

## Pakan toiminta

_Pakka_ (_deque_) on listarakenne, jossa sekä listan alkua että loppua pystyy käsittelemään tehokkaasti. Pythonissa moduulissa `collections` on tietorakenne `deque`, joka tarjoaa seuraavat metodit:

* `append`: lisää alkio listan loppuun
* `pop`: poista alkio listan lopusta
* `appendleft`: lisää alkio listan alkuun
* `popleft`: poista alkio listan alusta

Seuraava koodi esittelee pakan käyttämistä:

```python
import collections

items = collections.deque()

items.append(1)
items.append(2)
items.appendleft(3)
items.append(4)
items.appendleft(5)

print(items) # deque([5, 3, 1, 2, 4])

print(items[0]) # 5
print(items[1]) # 3
print(items[-1]) # 4
```

Pakan etuna on, että kaikki yllä mainitut metodit toimivat ajassa $$O(1)$$ eli alkioita on tehokasta lisätä ja poistaa sekä listan alussa että lopussa. Pythonin tavallisessa listassa on vain metodit `append` ja `pop`, mutta pakka tarjoaa lisäksi metodit `appendleft` ja `popleft`.

Pakan heikkoutena on, että indeksointi (`[]`) vie aikaa $$O(k)$$, missä $$k$$ on alkion etäisyys listan alusta tai lopusta. Niinpä indeksointi on tehokasta vain listan alussa ja lopussa. Pythonin tavallisessa listassa indeksointi vie aina aikaa $$O(1)$$, mutta pakassa indeksointi vie aikaa $$O(n)$$, jos indeksoitava kohta on listan keskellä.

## Pino ja jono

_Pino_ (_stack_) on tietorakenne, jossa pystyy lisäämään alkion listan loppuun sekä hakemaan tai poistamaan alkion listan lopusta. _Jono_ (_queue_) on puolestaan tietorakenne, jossa pystyy lisäämään alkion listan loppuun sekä hakemaan tai poistamaan alkion listan alusta.

Pakan avulla pystyy toteuttamaan tehokkaasti sekä pinon että jonon, koska alkioita voi käsitellä tehokkaasti sekä listan alussa että lopussa. Seuraavat luokat `Stack` ja `Queue` toteuttavat pinon ja jonon:

```python
import collections

class Stack:
    def __init__(self):
        self.stack = collections.deque()

    def push(self, x):
        self.stack.append(x)

    def top(self):
        return self.stack[-1]

    def pop(self):
        self.stack.pop()

class Queue:
    def __init__(self):
        self.queue = collections.deque()

    def push(self, x):
        self.queue.append(x)

    def top(self):
        return self.queue[0]

    def pop(self):
        self.queue.popleft()
```

Huomaa, että pinon voisi toteuttaa helposti myös Pythonin tavallisen listan avulla, kuten teimme luvussa 6. Sen sijaan jonon toteutuksessa on aitoa hyötyä siitä, että pakkaa pystyy käsittelemään tehokkaasti sekä alussa että lopussa.

## Pakan toteutus

## Keon toiminta

_Keko_ (_heap_) on tietorakenne, jossa pystyy tehokkaasti lisäämän alkion sekä etsimään ja poistamaan pienimmän tai suurimman alkion. Pythonissa moduuli `heapq` sisältää funktioita, joiden avulla listaa voi käsitellä kekona.

Seuraava koodi esittelee keon käyttämistä Pythonissa:

```python
import heapq

items = []

heapq.heappush(items, 4)
heapq.heappush(items, 2)
heapq.heappush(items, 3)
heapq.heappush(items, 1)
heapq.heappush(items, 5)

print(items[0]) # 1
heapq.heappop(items)
print(items[0]) # 2
```

Funktio `heappush` lisää kekoon uuden alkion, ja funktio `heappop` palauttaa ja poistaa pienimmän alkion. Molemmat funktiot toimivat ajassa $$O(\log n)$$. Keon sisältö on tallennettu listaan niin, että listan ensimmäinen alkio on keon pienin alkio. Tämän ansiosta pienimmän alkion voi hakea ajassa $$O(1)$$ listan indeksistä $$0$$.

Keon etuna on, että siinä pystyy tehokkaasti sekä lisäämään alkioita että hakemaan ja poistamaan pienimmän alkion. Tämä ei olisi mahdollista hajautuksen tai järjestämisen avulla, koska hajautuksessa ei ole mahdollista löytää pienintä alkiota eikä järjestäminen jokaisen lisäyksen jälkeen olisi tehokasta.

Keon rajoituksena on, että siinä pystyy hakemaan ja poistamaan tehokkaasti vain pienimmän alkion eikä muita alkioita. Lisäksi erona hajautusta käyttävään joukkoon keossa voi esiintyä monta kertaa sama alkio.

## Keon toteutus

## Tietorakenteet muissa kielissä
